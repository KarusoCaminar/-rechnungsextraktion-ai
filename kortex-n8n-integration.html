<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kortex KI-Workflows - Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #0a1628 0%, #09182F 100%);
      min-height: 100vh;
      color: white;
      padding: 20px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 60px 20px;
    }
    
    header {
      text-align: center;
      margin-bottom: 4rem;
    }
    
    h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .subtitle {
      font-size: 1.3rem;
      color: #94a3b8;
      margin-bottom: 1rem;
    }
    
    /* Demo Cards Grid */
    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }
    
    .demo-card-link {
      text-decoration: none;
      display: block;
      transition: transform 0.3s ease;
    }
    
    .demo-card-link:hover {
      transform: translateY(-8px);
    }
    
    .demo-card {
      background: rgba(15, 23, 42, 0.8);
      border: 1px solid rgba(148, 163, 184, 0.2);
      border-radius: 16px;
      padding: 2.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      height: 100%;
      display: flex;
      flex-direction: column;
    }
    
    .demo-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 51, 234, 0.1) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .demo-card:hover::before {
      opacity: 1;
    }
    
    .demo-card:hover {
      border-color: rgba(96, 165, 250, 0.5);
      box-shadow: 0 20px 60px rgba(59, 130, 246, 0.3);
    }
    
    .demo-icon {
      font-size: 4rem;
      margin-bottom: 1.5rem;
      display: block;
    }
    
    .demo-card h3 {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      color: white;
      position: relative;
      z-index: 1;
    }
    
    .demo-card p {
      font-size: 1rem;
      color: #94a3b8;
      line-height: 1.6;
      margin-bottom: 1.5rem;
      position: relative;
      z-index: 1;
      flex-grow: 1;
    }
    
    .demo-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      position: relative;
      z-index: 1;
    }
    
    .tag {
      background: rgba(59, 130, 246, 0.2);
      color: #60a5fa;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 500;
    }
    
    .tag.success {
      background: rgba(34, 197, 94, 0.2);
      color: #4ade80;
    }
    
    .arrow-icon {
      position: absolute;
      bottom: 2rem;
      right: 2rem;
      font-size: 2rem;
      font-weight: bold;
      color: #60a5fa;
      transition: transform 0.3s ease;
    }
    
    .demo-card:hover .arrow-icon {
      transform: translateX(8px);
    }
    
    /* Status Badge */
    .status-badge {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      margin-bottom: 1rem;
    }
    
    .status-badge.live {
      background: rgba(34, 197, 94, 0.2);
      color: #4ade80;
    }
    
    .status-badge.beta {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    /* Alert Box */
    .alert-box {
      background: rgba(59, 130, 246, 0.1);
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 3rem;
      color: #93c5fd;
    }
    
    .alert-box strong {
      color: #60a5fa;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }
      
      .subtitle {
        font-size: 1rem;
      }
      
      .demo-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      
      .demo-card {
        padding: 2rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üöÄ Kortex KI-Workflows</h1>
      <p class="subtitle">Intelligente Automatisierung f√ºr Ihr Business</p>
    </header>

    <div class="alert-box">
      <strong>‚ÑπÔ∏è Setup:</strong> F√ºge deine n8n-Workflow-URL ein (Zeile 185) und aktiviere in n8n: 
      <strong>"Continue Workflow after Webhook Response"</strong> f√ºr Workflow-Visualisierung.
      <br><strong>‚ö†Ô∏è Hinweis:</strong> Pop-ups k√∂nnen von Browser-Blockern geblockt werden. 
      Verwende <code>kortex-n8n-modal.html</code> f√ºr bessere UX.
    </div>

    <!-- Demo Cards Grid -->
    <div class="demo-grid">
      
      <!-- Card 1: Business Card Extraction (n8n) -->
      <a href="#" class="demo-card-link" 
         data-n8n-url="DEIN_N8N_VISITENKARTEN_URL_HIER" 
         data-title="Visitenkarten-Extraktion">
        <div class="demo-card">
          <span class="status-badge beta">Beta</span>
          <span class="demo-icon">üë§</span>
          <h3>Business Card Extraction</h3>
          <p>Automatische Erfassung von Kontaktdaten aus Visitenkarten mit KI. Schnell, pr√§zise und direkt in Ihr CRM.</p>
          
          <div class="demo-tags">
            <span class="tag">‚ö° 5 Sek/Karte</span>
            <span class="tag success">‚úÖ 95% Genauigkeit</span>
            <span class="tag">üîó n8n-Powered</span>
          </div>
          
          <span class="arrow-icon">‚Üí</span>
        </div>
      </a>
      
      <!-- Card 2: Invoice Data Extraction (Replit) -->
      <a href="#" class="demo-card-link" 
         data-n8n-url="https://koretex-invoice-db.onrender.com/upload" 
         data-title="Rechnungsdaten-Extraktion">
        <div class="demo-card">
          <span class="status-badge live">Live</span>
          <span class="demo-icon">üìÑ</span>
          <h3>Invoice Data Extraction</h3>
          <p>KI-gest√ºtzte Rechnungsverarbeitung. Automatische Extraktion aller relevanten Daten in Sekunden.</p>
          
          <div class="demo-tags">
            <span class="tag">‚ö° 10 Sek/Rechnung</span>
            <span class="tag success">‚úÖ 98% Genauigkeit</span>
            <span class="tag">üéØ Production-Ready</span>
          </div>
          
          <span class="arrow-icon">‚Üí</span>
        </div>
      </a>
      
    </div>
  </div>

  <!-- JavaScript for Pop-up Handling -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const links = document.querySelectorAll('.demo-card-link');
      
      links.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          
          // 1. URL und Titel aus dem data-Attribut holen
          const n8nUrl = link.getAttribute('data-n8n-url');
          const demoTitle = link.getAttribute('data-title');
          
          // 2. Validierung - Pr√ºfen ob URL konfiguriert ist
          if (!n8nUrl || n8nUrl.includes('DEIN_N8N')) {
            alert('‚ö†Ô∏è Demo-URL ist noch nicht konfiguriert!\n\nBitte f√ºge den Link deines n8n-Formulars im HTML-Code ein.\n\nSuche nach: data-n8n-url="DEIN_N8N_..."');
            return;
          }
          
          // 3. URL-Parameter f√ºr Workflow-Visualisierung hinzuf√ºgen
          // modal=true: Optimiert f√ºr Modal-Darstellung
          // visualize=true: Zeigt Workflow-Execution in Echtzeit
          const finalUrl = n8nUrl.includes('?') 
            ? `${n8nUrl}&modal=true&visualize=true`
            : `${n8nUrl}?modal=true&visualize=true`;
          
          // 4. Pop-up-Parameter definieren (optimiert f√ºr Workflow-Visualisierung)
          const width = 1200;  // Breiter f√ºr Workflow-Ansicht
          const height = 800;  // H√∂her f√ºr alle Nodes
          const left = (screen.width / 2) - (width / 2);
          const top = (screen.height / 2) - (height / 2);
          
          // 5. Modales Pop-up √∂ffnen
          const popup = window.open(
            finalUrl, 
            demoTitle, 
            `scrollbars=yes, resizable=yes, width=${width}, height=${height}, top=${top}, left=${left}, toolbar=no, menubar=no, location=no`
          );
          
          // 5. Popup-Blocker Check
          if (!popup || popup.closed || typeof popup.closed == 'undefined') {
            alert('‚ö†Ô∏è Pop-up wurde blockiert!\n\nBitte erlaube Pop-ups f√ºr diese Seite in deinen Browser-Einstellungen.');
          } else {
            // Optional: Analytics tracking
            console.log('üöÄ Demo ge√∂ffnet:', demoTitle);
            
            // Google Analytics Event (falls vorhanden)
            if (typeof gtag !== 'undefined') {
              gtag('event', 'demo_opened', {
                'event_category': 'engagement',
                'event_label': demoTitle,
                'workflow_url': n8nUrl
              });
            }
          }
        });
      });
      
      console.log('‚úÖ Kortex n8n Integration geladen');
      console.log('üìä Gefundene Demo-Cards:', links.length);
    });
  </script>
</body>
</html>

